{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/danigrant/Projects/globalmysteryinc/pages/index.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport AppContainer from '../components/AppContainer';\nimport posed from 'react-pose';\nvar ExpandableBox = posed.div({\n  expanded: {\n    marginTop: 0\n  },\n  contracted: {\n    marginTop: 30\n  }\n});\n\nvar Index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFormActive\", function () {\n      _this.setState({\n        formIsActive: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTopicChange\", function (e) {\n      _this.setState({\n        topic: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAudienceChange\", function (e) {\n      _this.setState({\n        audience: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEmailChange\", function (e) {\n      _this.setState({\n        email: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTwitterChange\", function (e) {\n      _this.setState({\n        twitter: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAnonymityChange\", function (e) {\n      _this.setState({\n        anonymity: !_this.state.anonymity\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      e.preventDefault();\n      fetch('https://en7zz3uf5iumrri.m.pipedream.net', {\n        method: 'POST',\n        body: _JSON$stringify({\n          \"anonymous\": _this.state.anonymity.toString(),\n          \"twitter_handle\": _this.state.twitter,\n          \"email\": _this.state.email,\n          \"mystery\": _this.state.topic,\n          \"mystery_audience\": _this.state.audience\n        })\n      }); // reset form\n\n      _this.setState({\n        topic: '',\n        audience: '',\n        email: '',\n        twitter: '',\n        anonymity: false,\n        formIsActive: false,\n        formSubmitted: true\n      });\n    });\n\n    _this.state = {\n      topic: '',\n      audience: '',\n      email: '',\n      twitter: '',\n      anonymity: false,\n      formIsActive: false,\n      formSubmitted: false\n    };\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.querySelectorAll('[data-autoresize]').forEach(function (element) {\n        element.style.boxSizing = 'border-box';\n        var offset = element.offsetHeight - element.clientHeight;\n        document.addEventListener('input', function (event) {\n          event.target.style.height = 'auto';\n          event.target.style.height = event.target.scrollHeight + offset + 'px';\n        });\n        element.removeAttribute('data-autoresize');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.formSubmitted) {\n        return __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, __jsx(AppContainer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"modal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          src: \"/images/bitmoji-amazing.png\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }), __jsx(\"p\", {\n          className: \"font-size-lrg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"That is a \", __jsx(\"span\", {\n          className: \"font-color-purple\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \" fantastic\"), \" mystery. It\\u2019s been submitted to global mystery headquarters.\"), __jsx(\"div\", {\n          className: \"button background-color-twitter-blue\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"Share Your Mystery With The Twitterverse\"))));\n      } else {\n        return __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, __jsx(AppContainer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, !this.state.formIsActive && __jsx(\"div\", {\n          className: \"title-section-wrapper center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, __jsx(\"h1\", {\n          className: \"font-lrg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, \"Serious question.\"), __jsx(\"h1\", {\n          className: \"font-lrg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, \"What would you like explained?\"), __jsx(\"h2\", {\n          className: \"font-color-grey\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"Welcome to a project where we listen to your mysteries and then kick off a tournament to explain them.\")), __jsx(ExpandableBox, {\n          onClick: this.handleFormActive,\n          pose: this.state.formIsActive ? 'expanded' : 'contracted',\n          className: \"card-section-wrapper font-sml\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, __jsx(\"form\", {\n          className: \"margin-bottom-med\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"field-wrap margin-bottom-sml\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, __jsx(\"label\", {\n          className: \"how-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"How would you explain\"), __jsx(\"textarea\", {\n          className: \"input-with-center-text\",\n          value: this.state.topic,\n          onChange: this.handleTopicChange,\n          \"data-autoresize\": true,\n          rows: \"1\",\n          type: \"text\",\n          placeholder: \"how does popcorn work\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        })), __jsx(\"div\", {\n          className: \"field-wrap margin-bottom-sml\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, __jsx(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"to a\"), __jsx(\"textarea\", {\n          className: \"input-with-center-text\",\n          value: this.state.audience,\n          onChange: this.handleAudienceChange,\n          \"data-autoresize\": true,\n          rows: \"1\",\n          type: \"text\",\n          placeholder: \"space alien who has never visited earth\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        })), this.state.formIsActive && __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"margin-top-lrg margin-bottom-sml\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"full-row-width\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, __jsx(\"label\", {\n          className: \"constrained-width-input\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"Who are you on email:\")), __jsx(\"input\", {\n          className: \"constrained-width-input\",\n          value: this.state.email,\n          onChange: this.handleEmailChange,\n          type: \"text\",\n          placeholder: \"mayor@dani.town\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        })), __jsx(\"div\", {\n          className: \"margin-top-med margin-bottom-sml\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"full-row-width\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, __jsx(\"label\", {\n          className: \"constrained-width-input\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, \"Who are you on twitter:\")), __jsx(\"input\", {\n          className: \"constrained-width-input\",\n          value: this.state.twitter,\n          onChange: this.handleTwitterChange,\n          type: \"text\",\n          placeholder: \"@thedanigrant\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        })), __jsx(\"div\", {\n          className: \"margin-top-lrg margin-bottom-sml\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, __jsx(\"input\", {\n          className: \"checkbox\",\n          value: this.state.anonymity,\n          onChange: this.handleAnonymityChange,\n          type: \"checkbox\",\n          checked: !this.state.anonymity,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }), __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, \"You can attribute this mystery to me.\")))), __jsx(\"div\", {\n          onClick: this.handleSubmit,\n          className: \"margin-top-lrg button background-color-purple center\",\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, \"Submit Mystery\")), __jsx(\"img\", {\n          id: \"bitmoji-image\",\n          src: \"/images/bitmoji-thinking.png\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        })));\n      }\n    }\n  }]);\n\n  return Index;\n}(React.Component);\n\nexport default Index;","map":{"version":3,"sources":["/Users/danigrant/Projects/globalmysteryinc/pages/index.js"],"names":["React","AppContainer","posed","ExpandableBox","div","expanded","marginTop","contracted","Index","props","setState","formIsActive","e","topic","target","value","audience","email","twitter","anonymity","state","preventDefault","fetch","method","body","toString","formSubmitted","document","querySelectorAll","forEach","element","style","boxSizing","offset","offsetHeight","clientHeight","addEventListener","event","height","scrollHeight","removeAttribute","handleFormActive","handleTopicChange","handleAudienceChange","handleEmailChange","handleTwitterChange","handleAnonymityChange","handleSubmit","Component"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AAEA,IAAMC,aAAa,GAAGD,KAAK,CAACE,GAAN,CAAU;AAC9BC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,SAAS,EAAE;AAAb,GADoB;AAE9BC,EAAAA,UAAU,EAAE;AAAED,IAAAA,SAAS,EAAE;AAAb;AAFkB,CAAV,CAAtB;;IAKME,K;;;;;AACJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;;AADiB,uEAuBA,YAAM;AACvB,YAAKC,QAAL,CAAc;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAd;AACD,KAzBkB;;AAAA,wEA0BC,UAAAC,CAAC,EAAI;AACvB,YAAKF,QAAL,CAAc;AAAEG,QAAAA,KAAK,EAAED,CAAC,CAACE,MAAF,CAASC;AAAlB,OAAd;AACD,KA5BkB;;AAAA,2EA6BI,UAAAH,CAAC,EAAI;AAC1B,YAAKF,QAAL,CAAc;AAAEM,QAAAA,QAAQ,EAAEJ,CAAC,CAACE,MAAF,CAASC;AAArB,OAAd;AACD,KA/BkB;;AAAA,wEAgCC,UAAAH,CAAC,EAAI;AACvB,YAAKF,QAAL,CAAc;AAAEO,QAAAA,KAAK,EAAEL,CAAC,CAACE,MAAF,CAASC;AAAlB,OAAd;AACD,KAlCkB;;AAAA,0EAmCG,UAAAH,CAAC,EAAI;AACzB,YAAKF,QAAL,CAAc;AAAEQ,QAAAA,OAAO,EAAEN,CAAC,CAACE,MAAF,CAASC;AAApB,OAAd;AACD,KArCkB;;AAAA,4EAsCK,UAAAH,CAAC,EAAI;AAC3B,YAAKF,QAAL,CAAc;AAAES,QAAAA,SAAS,EAAE,CAAC,MAAKC,KAAL,CAAWD;AAAzB,OAAd;AACD,KAxCkB;;AAAA,mEAyCJ,UAAAP,CAAC,EAAI;AAClBA,MAAAA,CAAC,CAACS,cAAF;AACAC,MAAAA,KAAK,CAAC,yCAAD,EAA4C;AAC/CC,QAAAA,MAAM,EAAE,MADuC;AAE/CC,QAAAA,IAAI,EAAE,gBAAe;AACnB,uBAAa,MAAKJ,KAAL,CAAWD,SAAX,CAAqBM,QAArB,EADM;AAEnB,4BAAkB,MAAKL,KAAL,CAAWF,OAFV;AAGnB,mBAAS,MAAKE,KAAL,CAAWH,KAHD;AAInB,qBAAW,MAAKG,KAAL,CAAWP,KAJH;AAKnB,8BAAoB,MAAKO,KAAL,CAAWJ;AALZ,SAAf;AAFyC,OAA5C,CAAL,CAFkB,CAYlB;;AACA,YAAKN,QAAL,CAAc;AACZG,QAAAA,KAAK,EAAE,EADK;AAEZG,QAAAA,QAAQ,EAAE,EAFE;AAGZC,QAAAA,KAAK,EAAE,EAHK;AAIZC,QAAAA,OAAO,EAAE,EAJG;AAKZC,QAAAA,SAAS,EAAE,KALC;AAMZR,QAAAA,YAAY,EAAE,KANF;AAOZe,QAAAA,aAAa,EAAE;AAPH,OAAd;AASD,KA/DkB;;AAEjB,UAAKN,KAAL,GAAa;AACXP,MAAAA,KAAK,EAAE,EADI;AAEXG,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,OAAO,EAAE,EAJE;AAKXC,MAAAA,SAAS,EAAE,KALA;AAMXR,MAAAA,YAAY,EAAE,KANH;AAOXe,MAAAA,aAAa,EAAE;AAPJ,KAAb;AAFiB;AAWlB;;;;wCACmB;AAClBC,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,mBAA1B,EAA+CC,OAA/C,CAAuD,UAAUC,OAAV,EAAmB;AACxEA,QAAAA,OAAO,CAACC,KAAR,CAAcC,SAAd,GAA0B,YAA1B;AACA,YAAIC,MAAM,GAAGH,OAAO,CAACI,YAAR,GAAuBJ,OAAO,CAACK,YAA5C;AACAR,QAAAA,QAAQ,CAACS,gBAAT,CAA0B,OAA1B,EAAmC,UAAUC,KAAV,EAAiB;AAClDA,UAAAA,KAAK,CAACvB,MAAN,CAAaiB,KAAb,CAAmBO,MAAnB,GAA4B,MAA5B;AACAD,UAAAA,KAAK,CAACvB,MAAN,CAAaiB,KAAb,CAAmBO,MAAnB,GAA4BD,KAAK,CAACvB,MAAN,CAAayB,YAAb,GAA4BN,MAA5B,GAAqC,IAAjE;AACD,SAHD;AAIAH,QAAAA,OAAO,CAACU,eAAR,CAAwB,iBAAxB;AACD,OARD;AASD;;;6BA0CQ;AACP,UAAI,KAAKpB,KAAL,CAAWM,aAAf,EAA8B;AAC5B,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,GAAG,EAAC,6BAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEE;AAAG,UAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAuC;AAAM,UAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAvC,uEAFF,EAGE;AAAK,UAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAHF,CADF,CADF,CADF;AAWD,OAZD,MAYO;AACL,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEI,CAAC,KAAKN,KAAL,CAAWT,YAAZ,IACA;AAAK,UAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAI,UAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAEE;AAAI,UAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAFF,EAGE;AAAI,UAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oHAHF,CAHJ,EASE,MAAC,aAAD;AAAe,UAAA,OAAO,EAAE,KAAK8B,gBAA7B;AAA+C,UAAA,IAAI,EAAE,KAAKrB,KAAL,CAAWT,YAAX,GAA0B,UAA1B,GAAuC,YAA5F;AAA0G,UAAA,SAAS,EAAC,+BAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAO,UAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,EAEE;AAAU,UAAA,SAAS,EAAC,wBAApB;AAA6C,UAAA,KAAK,EAAE,KAAKS,KAAL,CAAWP,KAA/D;AAAsE,UAAA,QAAQ,EAAE,KAAK6B,iBAArF;AAAwG,iCAAxG;AAAwH,UAAA,IAAI,EAAC,GAA7H;AAAiI,UAAA,IAAI,EAAC,MAAtI;AAA6I,UAAA,WAAW,EAAC,uBAAzJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CADF,EAKE;AAAK,UAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAU,UAAA,SAAS,EAAC,wBAApB;AAA6C,UAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWJ,QAA/D;AAAyE,UAAA,QAAQ,EAAE,KAAK2B,oBAAxF;AAA8G,iCAA9G;AAA8H,UAAA,IAAI,EAAC,GAAnI;AAAuI,UAAA,IAAI,EAAC,MAA5I;AAAmJ,UAAA,WAAW,EAAC,yCAA/J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CALF,EAUI,KAAKvB,KAAL,CAAWT,YAAX,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgC;AAAO,UAAA,SAAS,EAAC,yBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAhC,CADF,EAEE;AAAO,UAAA,SAAS,EAAC,yBAAjB;AAA2C,UAAA,KAAK,EAAE,KAAKS,KAAL,CAAWH,KAA7D;AAAoE,UAAA,QAAQ,EAAE,KAAK2B,iBAAnF;AAAsG,UAAA,IAAI,EAAC,MAA3G;AAAkH,UAAA,WAAW,EAAC,iBAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CADF,EAKE;AAAK,UAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgC;AAAO,UAAA,SAAS,EAAC,yBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAhC,CADF,EAEE;AAAO,UAAA,SAAS,EAAC,yBAAjB;AAA2C,UAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWF,OAA7D;AAAsE,UAAA,QAAQ,EAAE,KAAK2B,mBAArF;AAA0G,UAAA,IAAI,EAAC,MAA/G;AAAsH,UAAA,WAAW,EAAC,eAAlI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CALF,EASE;AAAK,UAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,KAAK,EAAE,KAAKzB,KAAL,CAAWD,SAA9C;AAAyD,UAAA,QAAQ,EAAE,KAAK2B,qBAAxE;AAA+F,UAAA,IAAI,EAAC,UAApG;AAA+G,UAAA,OAAO,EAAE,CAAC,KAAK1B,KAAL,CAAWD,SAApI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAFF,CATF,CAXJ,CADF,EA4BE;AAAK,UAAA,OAAO,EAAE,KAAK4B,YAAnB;AAAiC,UAAA,SAAS,EAAC,sDAA3C;AAAkG,UAAA,IAAI,EAAC,QAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BA5BF,CATF,EAuCE;AAAK,UAAA,EAAE,EAAC,eAAR;AAAwB,UAAA,GAAG,EAAC,8BAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAvCF,CADF,CADF;AA6CD;AACF;;;;EA7HiB/C,KAAK,CAACgD,S;;AAgI1B,eAAexC,KAAf","sourcesContent":["import React from 'react'\nimport AppContainer from '../components/AppContainer'\nimport posed from 'react-pose';\n\nconst ExpandableBox = posed.div({\n  expanded: { marginTop: 0 },\n  contracted: { marginTop: 30 }\n});\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      topic: '',\n      audience: '',\n      email: '',\n      twitter: '',\n      anonymity: false,\n      formIsActive: false,\n      formSubmitted: false\n    }\n  }\n  componentDidMount() {\n    document.querySelectorAll('[data-autoresize]').forEach(function (element) {\n      element.style.boxSizing = 'border-box';\n      var offset = element.offsetHeight - element.clientHeight;\n      document.addEventListener('input', function (event) {\n        event.target.style.height = 'auto';\n        event.target.style.height = event.target.scrollHeight + offset + 'px';\n      });\n      element.removeAttribute('data-autoresize');\n    });\n  }\n  handleFormActive = () => {\n    this.setState({ formIsActive: true })\n  }\n  handleTopicChange = e => {\n    this.setState({ topic: e.target.value })\n  }\n  handleAudienceChange = e => {\n    this.setState({ audience: e.target.value })\n  }\n  handleEmailChange = e => {\n    this.setState({ email: e.target.value })\n  }\n  handleTwitterChange = e => {\n    this.setState({ twitter: e.target.value })\n  }\n  handleAnonymityChange = e => {\n    this.setState({ anonymity: !this.state.anonymity })\n  }\n  handleSubmit = e => {\n    e.preventDefault();\n    fetch('https://en7zz3uf5iumrri.m.pipedream.net', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"anonymous\": this.state.anonymity.toString(),\n        \"twitter_handle\": this.state.twitter,\n        \"email\": this.state.email,\n        \"mystery\": this.state.topic,\n        \"mystery_audience\": this.state.audience\n      })\n    })\n    // reset form\n    this.setState({\n      topic: '',\n      audience: '',\n      email: '',\n      twitter: '',\n      anonymity: false,\n      formIsActive: false,\n      formSubmitted: true\n    })\n  }\n  render() {\n    if (this.state.formSubmitted) {\n      return (\n        <div>\n          <AppContainer>\n            <div className=\"modal\">\n              <img src=\"/images/bitmoji-amazing.png\" />\n              <p className=\"font-size-lrg\">That is a <span className=\"font-color-purple\"> fantastic</span> mystery. Itâ€™s been submitted to global mystery headquarters.</p>\n              <div className=\"button background-color-twitter-blue\">Share Your Mystery With The Twitterverse</div>\n            </div>\n          </AppContainer>\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <AppContainer>\n            {\n              !this.state.formIsActive &&\n              <div className=\"title-section-wrapper center\">\n                <h1 className=\"font-lrg\">Serious question.</h1>\n                <h1 className=\"font-lrg\">What would you like explained?</h1>\n                <h2 className=\"font-color-grey\">Welcome to a project where we listen to your mysteries and then kick off a tournament to explain them.</h2>\n              </div>\n            }\n            <ExpandableBox onClick={this.handleFormActive} pose={this.state.formIsActive ? 'expanded' : 'contracted'} className=\"card-section-wrapper font-sml\">\n              <form className=\"margin-bottom-med\">\n                <div className=\"field-wrap margin-bottom-sml\">\n                  <label className=\"how-label\">How would you explain</label>\n                  <textarea className=\"input-with-center-text\" value={this.state.topic} onChange={this.handleTopicChange} data-autoresize rows=\"1\" type=\"text\" placeholder=\"how does popcorn work\"></textarea>\n                </div>\n                <div className=\"field-wrap margin-bottom-sml\">\n                  <label>to a</label>\n                  <textarea className=\"input-with-center-text\" value={this.state.audience} onChange={this.handleAudienceChange} data-autoresize rows=\"1\" type=\"text\" placeholder=\"space alien who has never visited earth\"></textarea>\n                </div>\n                {\n                  this.state.formIsActive &&\n                  <div>\n                    <div className=\"margin-top-lrg margin-bottom-sml\">\n                      <div className=\"full-row-width\"><label className=\"constrained-width-input\">Who are you on email:</label></div>\n                      <input className=\"constrained-width-input\" value={this.state.email} onChange={this.handleEmailChange} type=\"text\" placeholder=\"mayor@dani.town\" />\n                    </div>\n                    <div className=\"margin-top-med margin-bottom-sml\">\n                      <div className=\"full-row-width\"><label className=\"constrained-width-input\">Who are you on twitter:</label></div>\n                      <input className=\"constrained-width-input\" value={this.state.twitter} onChange={this.handleTwitterChange} type=\"text\" placeholder=\"@thedanigrant\" />\n                    </div>\n                    <div className=\"margin-top-lrg margin-bottom-sml\">\n                      <input className=\"checkbox\" value={this.state.anonymity} onChange={this.handleAnonymityChange} type=\"checkbox\" checked={!this.state.anonymity} />\n                      <p>You can attribute this mystery to me.</p>\n                    </div>\n                  </div>\n                }\n              </form>\n              <div onClick={this.handleSubmit} className=\"margin-top-lrg button background-color-purple center\" type=\"submit\">Submit Mystery</div>\n            </ExpandableBox>\n            <img id=\"bitmoji-image\" src=\"/images/bitmoji-thinking.png\" />\n          </AppContainer>\n        </div>\n      )\n    }\n  }\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}